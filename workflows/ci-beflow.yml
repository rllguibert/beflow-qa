name: QAt CI
on: [push, pull_request]

jobs:
   steps:
      - uses: actions/github-script@98814c53be79b1d30f795b907e553d8679345975
        id: set-matrix
        with:
          script: |           
            return [
              { name: 'chatbot', path: 'tests/chatbot/', },
              { name: 'campañas', path: 'tests/campañas/', }
              

   test-chromium:
          name: Test Chromium (Ubuntu)
          runs-on: ubuntu-latest
          steps:
            - name: Checkout
              uses: origin/Testqat
      
            - name: Setup Node.js
              uses: origin/Testqat
              with:
                node-version: 16
      
            - name: Install NPM Dependencies
              run: npm ci --legacy-peer-deps
      
            - name: Install Chromium Playwright
              run: npx playwright install chromium && npx playwright install-deps chromium
      
            - name: Run Chromium E2E Tests (Service Worker)
              run: npm run test.chromium


      
